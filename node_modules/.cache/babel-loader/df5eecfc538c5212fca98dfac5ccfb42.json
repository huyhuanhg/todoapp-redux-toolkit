{"ast":null,"code":"import { TASK_LIST_ACTION } from '../constants';\nimport { createReducer } from \"@reduxjs/toolkit\";\nconst initialState = localStorage.tasks && JSON.parse(localStorage.tasks) || {\n  taskList: []\n};\n\nconst saveLocal = taskList => {\n  localStorage.task = JSON.stringify(taskList);\n};\n\nconst taskListReducer = createReducer(initialState, {\n  [TASK_LIST_ACTION.ADD_TASK]: (state, action) => {\n    console.log(action.payload);\n    let task = { ...state,\n      taskList: [...state.taskList, action.payload]\n    };\n    saveLocal(task);\n    return task;\n  },\n  [TASK_LIST_ACTION.EDIT_TASK]: (state, action) => {\n    console.log(action.payload.id);\n    let tasks = { ...state\n    };\n    console.log(tasks);\n    let index = tasks.findIndex(task => task.id === action.payload.id);\n    console.log(index);\n    return { ...state\n    }; // task.taskList.splice(action.payload.index, 1, action.payload.value);\n    // saveLocal(task);\n    // return task;\n  },\n  [TASK_LIST_ACTION.DELETE_TASK]: (state, action) => {\n    let task = { ...state\n    };\n    task.taskList.splice(action.payload.index, 1);\n    saveLocal(task);\n    return task;\n  }\n});\nexport default taskListReducer;","map":{"version":3,"sources":["/home/huyhuanhg/learn/FE18/ReacJs/Exercise/to-do-app_redux-toolkit/src/redux/reducers/taskLisk.reducer.js"],"names":["TASK_LIST_ACTION","createReducer","initialState","localStorage","tasks","JSON","parse","taskList","saveLocal","task","stringify","taskListReducer","ADD_TASK","state","action","console","log","payload","EDIT_TASK","id","index","findIndex","DELETE_TASK","splice"],"mappings":"AAAA,SAAQA,gBAAR,QAA+B,cAA/B;AACA,SAAQC,aAAR,QAA4B,kBAA5B;AAEA,MAAMC,YAAY,GAAGC,YAAY,CAACC,KAAb,IAAsBC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,KAAxB,CAAtB,IAAwD;AAACG,EAAAA,QAAQ,EAAE;AAAX,CAA7E;;AAEA,MAAMC,SAAS,GAAID,QAAD,IAAc;AAC5BJ,EAAAA,YAAY,CAACM,IAAb,GAAoBJ,IAAI,CAACK,SAAL,CAAeH,QAAf,CAApB;AACH,CAFD;;AAIA,MAAMI,eAAe,GAAGV,aAAa,CAACC,YAAD,EAAe;AAChD,GAACF,gBAAgB,CAACY,QAAlB,GAA6B,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC5CC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,OAAnB;AACA,QAAIR,IAAI,GAAG,EACP,GAAGI,KADI;AAEPN,MAAAA,QAAQ,EAAE,CACN,GAAGM,KAAK,CAACN,QADH,EAENO,MAAM,CAACG,OAFD;AAFH,KAAX;AAOAT,IAAAA,SAAS,CAACC,IAAD,CAAT;AACA,WAAOA,IAAP;AACH,GAZ+C;AAahD,GAACT,gBAAgB,CAACkB,SAAlB,GAA8B,CAACL,KAAD,EAAQC,MAAR,KAAmB;AAC7CC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,OAAP,CAAeE,EAA3B;AACA,QAAIf,KAAK,GAAG,EAAC,GAAGS;AAAJ,KAAZ;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAZ;AACA,QAAIgB,KAAK,GAAGhB,KAAK,CAACiB,SAAN,CAAgBZ,IAAI,IAAIA,IAAI,CAACU,EAAL,KAAYL,MAAM,CAACG,OAAP,CAAeE,EAAnD,CAAZ;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACA,WAAO,EAAC,GAAGP;AAAJ,KAAP,CAN6C,CAO7C;AACA;AACA;AACH,GAvB+C;AAwBhD,GAACb,gBAAgB,CAACsB,WAAlB,GAAgC,CAACT,KAAD,EAAQC,MAAR,KAAmB;AAC/C,QAAIL,IAAI,GAAG,EAAC,GAAGI;AAAJ,KAAX;AACAJ,IAAAA,IAAI,CAACF,QAAL,CAAcgB,MAAd,CAAqBT,MAAM,CAACG,OAAP,CAAeG,KAApC,EAA2C,CAA3C;AACAZ,IAAAA,SAAS,CAACC,IAAD,CAAT;AACA,WAAOA,IAAP;AACH;AA7B+C,CAAf,CAArC;AAgCA,eAAeE,eAAf","sourcesContent":["import {TASK_LIST_ACTION} from '../constants';\nimport {createReducer} from \"@reduxjs/toolkit\";\n\nconst initialState = localStorage.tasks && JSON.parse(localStorage.tasks) || {taskList: []};\n\nconst saveLocal = (taskList) => {\n    localStorage.task = JSON.stringify(taskList);\n}\n\nconst taskListReducer = createReducer(initialState, {\n    [TASK_LIST_ACTION.ADD_TASK]: (state, action) => {\n        console.log(action.payload)\n        let task = {\n            ...state,\n            taskList: [\n                ...state.taskList,\n                action.payload,\n            ]\n        };\n        saveLocal(task);\n        return task;\n    },\n    [TASK_LIST_ACTION.EDIT_TASK]: (state, action) => {\n        console.log(action.payload.id)\n        let tasks = {...state};\n        console.log(tasks)\n        let index = tasks.findIndex(task => task.id === action.payload.id);\n        console.log(index)\n        return {...state};\n        // task.taskList.splice(action.payload.index, 1, action.payload.value);\n        // saveLocal(task);\n        // return task;\n    },\n    [TASK_LIST_ACTION.DELETE_TASK]: (state, action) => {\n        let task = {...state};\n        task.taskList.splice(action.payload.index, 1);\n        saveLocal(task);\n        return task;\n    },\n});\n\nexport default taskListReducer;\n"]},"metadata":{},"sourceType":"module"}